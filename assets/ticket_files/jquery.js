(function(){var t,i;t=this.jQuery||window.jQuery,i=t(window),t.fn.stick_in_parent=function(e){var o,n,r,s,c,l,a,u,d,p,g,f,h;for(null==e&&(e={}),h=e.sticky_class,l=e.inner_scrolling,f=e.recalc_every,g=e.parent,d=e.offset_top,u=e.spacer,r=e.bottoming,null==d&&(d=0),null==g&&(g=void 0),null==l&&(l=!0),null==h&&(h="is_stuck"),o=t(document),null==r&&(r=!0),isIE=function(t){return t=t||navigator.userAgent,t.indexOf("MSIE ")>-1||t.indexOf("Trident/")>-1},getPercentWidth=function(t,i){if(t.css({position:"",width:"",top:""}),i){var e=100*p(t)/p(t.parent());return e}return-1},p=function(t){var i,e,o;return window.getComputedStyle&&t[0]?(i=t[0],e=window.getComputedStyle(t[0]),o=parseFloat(e.getPropertyValue("width"))+parseFloat(e.getPropertyValue("margin-left"))+parseFloat(e.getPropertyValue("margin-right")),("border-box"!==e.getPropertyValue("box-sizing")||isIE())&&(o+=parseFloat(e.getPropertyValue("border-left-width"))+parseFloat(e.getPropertyValue("border-right-width"))+parseFloat(e.getPropertyValue("padding-left"))+parseFloat(e.getPropertyValue("padding-right"))),o):t.outerWidth(!0)},s=function(e,n,s,c,a,p,m,y){var v,k,w,b,_,x,F,P,V,C,I,S,E,O=!1;if(!e.data("sticky_kit")){if(E=!1,e.data("sticky_kit",!0),_=o.height(),F=e.parent(),null!=g&&(F=F.closest(g)),!F.length)throw"failed to find stick parent";if(w=!1,v=!1,I=null!=u?u&&e.closest(u):t("<div />"),I&&I.css("position",e.css("position")),P=function(){var t,i,r;if(!y)return _=o.height(),t=parseInt(F.css("border-top-width"),10),i=parseInt(F.css("padding-top"),10),n=parseInt(F.css("padding-bottom"),10),s=F.offset().top+t+i,c=F.height(),w&&(w=!1,v=!1,null==u&&(E||(e.insertAfter(I),I.detach())),p=e.outerHeight(!0),e.css({position:"",top:"",width:"",bottom:""}).removeClass(h),r=!0,x=d),a=e.offset().top-(parseInt(e.css("margin-top"),10)||0)-d,m=e.css("float"),I&&(I.css({height:p,width:getPercentWidth(e,I)+"%",display:e.css("display"),"vertical-align":e.css("vertical-align")}),E?e.css({width:"100%"}):I.css({"float":m})),r?S():void 0},P(),p!==c)return b=void 0,x=d,C=f,S=function(){var t,g,k,V,S,z;if(!y)return k=!1,null!=C&&(C-=1,0>=C&&(C=f,P(),k=!0)),k||o.height()===_||(P(),k=!0),V=i.scrollTop(),null!=b&&(g=V-b),b=V,w?(r&&(S=V+p+x>c+s,v&&!S&&(v=!1,e.css({position:"fixed",bottom:"",top:x}).trigger("sticky_kit:unbottom"))),a>V&&(w=!1,x=d,null==u&&(("left"===m||"right"===m)&&(E||e.insertAfter(I)),E||I.detach()),t={position:"",width:"",top:""},e.css(t).removeClass(h).trigger("sticky_kit:unstick")),l&&(z=i.height(),p+d>z&&(v||(x-=g,x=Math.max(z-p,x),x=Math.min(d,x),w&&e.css({top:x+"px"}))))):V>a&&(w=!0,t={position:"fixed",top:x},t.width="border-box"===e.css("box-sizing")?e.outerWidth()+"px":e.width()+"px",e.css(t).addClass(h),null==u&&(E||e.after(I),("left"===m||"right"===m)&&(E||(I.append(e),E=!0))),O||forceScrollingOnFocusing(),e.trigger("sticky_kit:stick")),w&&r&&(null==S&&(S=V+p+x>c+s),!v&&S)?(v=!0,"static"===F.css("position")&&F.css({position:"relative"}),e.css({position:"absolute",bottom:n,top:"auto"}).trigger("sticky_kit:bottom")):void 0},V=function(){return P(),S()},forceScrollingOnFocusing=function(){var i=t(document.activeElement);if(jQuery.contains(e[0],i[0])){var o=document.activeElement.getBoundingClientRect().top;if(o>window.innerHeight){O=!0;var n=c+s-p+o-window.innerHeight+i.height();t(window).scrollTop(n)}}},k=function(){return y=!0,i.off("touchmove",S),i.off("scroll",S),i.off("resize",V),t(document.body).off("sticky_kit:recalc",V),e.off("sticky_kit:detach",k),e.removeData("sticky_kit"),e.css({position:"",bottom:"",top:""}),F.position("position",""),null==u&&(("left"===m||"right"===m)&&E&&e.insertAfter(I),E&&(I.remove(),E=!1)),e.removeClass(h)},e.focusin(function(){w?forceScrollingOnFocusing():O=!1}),i.on("touchmove",S),i.on("scroll",S),i.on("resize",V),t(document.body).on("sticky_kit:recalc",V),e.on("sticky_kit:detach",k),setTimeout(S,0)}},c=0,a=this.length;a>c;c++)n=this[c],s(t(n));return this}}).call(this);
